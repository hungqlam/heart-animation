<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Love from 8,360 Miles Away ❤️</title>
  <style>
    html, body {
      height: 100%; margin: 0; background: #000; overflow: hidden;
      display: flex; justify-content: center; align-items: center;
    }
    #pinkboard { position: relative; z-index: 2; }
    #fireworks { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
    .love-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      color: #FFB6C1; font-size: 28px; font-family: 'Georgia', serif; font-style: italic; text-align: center; text-shadow: 0 0 10px rgba(255,182,193,0.8); z-index: 3; }
  </style>
</head>
<body>
  <canvas id="fireworks"></canvas>
  <canvas id="pinkboard" width="500" height="500"></canvas>
  <div class="love-text">From afar, <br> I gaze at Ốc . <br>  </div>
  <script>
  // Enhanced heart: pulsing glow, gradient fill, sparkles on outline, gentle rotation
  (function(){
    const canvas = document.getElementById('pinkboard');
    const ctx = canvas.getContext('2d');
    const CX = canvas.width/2, CY = canvas.height/2;

    // Beat + rotation
    let beat = 1, dir = 1;
    let angle = 0; // radians

    // Sparkle particles along the heart outline
    const sparkles = [];
    const MAX_SPARKLES = 450;

    function heartPoint(t){
      const x = 16*Math.pow(Math.sin(t),3);
      const y = 13*Math.cos(t) - 5*Math.cos(2*t) - 2*Math.cos(3*t) - Math.cos(4*t);
      return {x, y};
    }

    function emitSparkles(scale, rot){
      const count = 10 + Math.floor(beat*6); // a few each frame, scales with beat
      const cos = Math.cos(rot), sin = Math.sin(rot);
      for(let i=0;i<count;i++){
        const t = Math.random()*Math.PI*2;
        const p = heartPoint(t);
        // local heart coords (scaled)
        const lx = p.x * scale * 10;
        const ly = -p.y * scale * 10; // flip Y for canvas
        // rotate + translate to world
        const x = CX + (lx*cos - ly*sin);
        const y = CY + (lx*sin + ly*cos);
        // velocity = outward from center + small tangential jitter
        const nx = (x - CX); const ny = (y - CY);
        const len = Math.max(1, Math.hypot(nx, ny));
        const ux = nx/len, uy = ny/len;
        const speed = 0.8 + Math.random()*0.8;
        const jx = (-uy)*0.3*(Math.random()*2-1);
        const jy = (ux)*0.3*(Math.random()*2-1);
        sparkles.push({x, y, vx: ux*speed + jx, vy: uy*speed + jy, a: 0.9, r: 1 + Math.random()*1.5});
      }
      // cap
      if(sparkles.length > MAX_SPARKLES) sparkles.splice(0, sparkles.length - MAX_SPARKLES);
    }

    function drawSparkles(){
      for(let i=sparkles.length-1;i>=0;i--){
        const s = sparkles[i];
        s.x += s.vx; s.y += s.vy; s.vy += 0.01; // slight gravity drift
        s.a -= 0.015; s.r *= 0.995;
        if(s.a <= 0 || s.r < 0.2){ sparkles.splice(i,1); continue; }
        const g = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, s.r*3);
        g.addColorStop(0, `rgba(255, 192, 220, ${Math.min(1, s.a*1.1)})`);
        g.addColorStop(0.5, `rgba(255, 112, 170, ${s.a*0.7})`);
        g.addColorStop(1, `rgba(255, 112, 170, 0)`);
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctx.fill();
      }
    }

    function drawHeart(scale=1, rot=0){
      ctx.clearRect(0,0,canvas.width,canvas.height);

      ctx.save();
      ctx.translate(CX, CY);
      ctx.rotate(rot);

      // Path
      ctx.beginPath();
      let started = false;
      for(let t=-Math.PI; t<Math.PI; t+=0.01){
        const p = heartPoint(t);
        const x = p.x*scale*10;
        const y = -p.y*scale*10; // flip Y
        if(!started){ ctx.moveTo(x,y); started=true; } else { ctx.lineTo(x,y); }
      }
      ctx.closePath();

      // Subtle vertical gradient (lighter center, darker edge)
      const grad = ctx.createRadialGradient(0, -10*scale, 10*scale, 0, 0, 120*scale);
      grad.addColorStop(0, 'rgba(255, 170, 200, 0.75)');
      grad.addColorStop(0.6, 'rgba(255, 120, 170, 0.55)');
      grad.addColorStop(1, 'rgba(255, 92, 164, 0.35)');

      // Fill
      ctx.fillStyle = grad;
      ctx.fill();

      // Glow stroke that pulses with the beat
      ctx.shadowBlur = 40 * (0.8 + (beat-1)*3);
      ctx.shadowColor = 'rgba(255, 92, 164, 0.9)';
      ctx.lineWidth = 3 + (beat-1)*10;
      ctx.strokeStyle = 'rgba(255, 120, 180, 0.6)';
      ctx.stroke();

      ctx.restore();
    }

    function animate(){
      // beat oscillation
      beat += dir*0.01; if(beat>1.1||beat<1){dir*=-1;}
      angle = Math.sin(performance.now()*0.0008) * 0.06; // gentle sway

      // draw heart and spawn sparkles along outline
      drawHeart(beat, angle);
      emitSparkles(beat, angle);
      drawSparkles();

      requestAnimationFrame(animate);
    }
    animate();
  })();
</script>
  <script>
    // Fireworks heart-shaped burst (pink only) with animation enhancements
    (function(){
      const canvas = document.getElementById('fireworks'), ctx = canvas.getContext('2d');
      function resize(){canvas.width=innerWidth; canvas.height=innerHeight;} window.addEventListener('resize',resize); resize();
      const particles=[]; 
      function Particle(x,y,vx,vy){
        this.x=x;this.y=y;this.vx=vx;this.vy=vy;this.alpha=1;this.size=Math.random()*2+1;this.hueShift=0;
      }
      Particle.prototype.update=function(){
        this.x+=this.vx; this.y+=this.vy; this.vy+=0.02; this.alpha-=0.006; this.size*=0.99; this.hueShift+=1; return this.alpha>0;
      }
      Particle.prototype.draw=function(){
        ctx.globalAlpha=this.alpha; 
        const grad = ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size*2);
        grad.addColorStop(0, `hsl(330,100%,${80 - this.hueShift/5}%)`);
        grad.addColorStop(1, 'rgba(255,182,193,0)');
        ctx.fillStyle=grad;
        ctx.beginPath();
        ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
        ctx.fill();
      }
      function launchHeart(){
        const cx=innerWidth*Math.random()*0.6+innerWidth*0.2;
        const cy=innerHeight*0.3+Math.random()*50;
        for(let t=0;t<Math.PI*2;t+=0.1){
          const hx=16*Math.pow(Math.sin(t),3);
          const hy=13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
          const speed=2+Math.random()*0.5;
          particles.push(new Particle(cx,cy,hx*0.2*speed, -hy*0.2*speed));
        }
      }
      setInterval(launchHeart,1500);
      function loop(){
        ctx.fillStyle='rgba(0,0,0,0.2)'; ctx.fillRect(0,0,canvas.width,canvas.height);
        for(let i=particles.length-1;i>=0;i--){
          if(!particles[i].update()) particles.splice(i,1); else particles[i].draw();
        }
        requestAnimationFrame(loop);
      }
      loop();
    })();
  </script>
</body>
</html>
